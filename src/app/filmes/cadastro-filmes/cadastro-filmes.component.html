<mat-toolbar class="app-title">Cadastrar Filme</mat-toolbar>
<div class="main-div">
  <mat-card class="center width50" *ngIf="cadastro">
    <form autocomplete="off" novalidate [formGroup]="cadastro" (ngSubmit)="salvar()" (ngReset)="reiniciarForm()">

      <mat-form-field class="full-width">
        <input matInput placeholder="Título *" name="titulo" formControlName="titulo">
        <mat-error *ngIf="(cadastro.touched || cadastro.dirty) && f.titulo.errors && f.titulo.errors.required">Título obrigatório</mat-error>
        <mat-error *ngIf="(cadastro.touched || cadastro.dirty) && f.titulo.errors && f.titulo.errors.minlength">O título deve conter no mínimo 2 caracteres</mat-error>
        <mat-error *ngIf="(cadastro.touched || cadastro.dirty) && f.titulo.errors && f.titulo.errors.maxlength">O título deve conter no máximo 256 caracteres</mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput placeholder="Link Foto" name="urlFoto" formControlName="urlFoto">
        <mat-error *ngIf="(cadastro.touched || cadastro.dirty) && f.urlFoto.errors && f.urlFoto.errors.minlength">A URL deve ter no mínimo 10 caracteres</mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input
          matInput
          readonly
          [matDatepicker]="picker"
          placeholder="Data de Lançamento *"
          name="dataLancamento"
          formControlName="dataLancamento"
          (click)="picker.open()">
        <mat-datepicker-toggle matsuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="(cadastro.touched || cadastro.dirty) && f.dataLancamento.errors && f.dataLancamento.errors.required">Título obrigatório</mat-error>

      </mat-form-field>

      <mat-form-field class="full-width">
        <textarea
          matInput
          placeholder="Descrição *"
          name="descricao"
          formControlName="descricao">
        </textarea>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput
               type="number"
               min="0"
               max="10"
               step="1"
               placeholder="Nota IMDb *"
               name="nota"
               formControlName="nota">
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput placeholder="Link IMDb *" name="urlIMDB" formControlName="urlIMDB">
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-select
          placeholder="Gênero *" name="genero" formControlName="genero">
          <mat-option value="Ação">Ação</mat-option>
          <mat-option value="Aventura">Aventura</mat-option>
          <mat-option value="Ficção Científica">Ficção Científica</mat-option>
          <mat-option value="Romance">Romance</mat-option>
          <mat-option value="Terror">Terror</mat-option>
        </mat-select>
      </mat-form-field>

      <button type="submit" color="accent" mat-raised-button>Salvar</button>
      <button type="reset" color="warn" mat-raised-button>Limpar</button>

    </form>
  </mat-card>
</div>
